// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema
generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}

model JobListing {
    id                 String     @id @default(cuid())
    title              String
    description        String
    location           String
    remote             Remote
    commitment         Commitment
    department         Department
    salaryLowerBound   Int
    salaryUpperBound   Int
    equityLowerBound   Float
    equityUpperBound   Float
    ExperienceRequired Int
    visaRequired       Boolean
    Company            Company    @relation(fields: [companyId], references: [id])
    companyId          String
    createdAt          DateTime   @default(now())
    updatedAt          DateTime   @updatedAt
}

enum Department {
    Engineering
    Design
    Product
    Science
    Sales
    Marketing
    Support
    Operations
    HR
    Finance
    Legal
}

enum Remote {
    inPerson
    remoteOk
    remoteOnly
}

enum Commitment {
    FULLTIME
    INTERNSHIP
    CONTRACT
}

model Company {
    id                String       @id @default(cuid())
    name              String
    description       String
    about             String?
    location          String
    headCount         Int
    batch             String
    techStack         String
    websiteUrl        String
    twitterUrl        String
    profilePictureUrl String
    Industry          String
    JobListings       JobListing[]
    founders          Founder[]
    createdAt         DateTime     @default(now())
    updatedAt         DateTime     @updatedAt
}

model Founder {
    id                 String   @id @default(cuid())
    founderName        String
    founderDescription String
    linkedinUrl        String
    companyId          String
    profilePictureUrl  String
    Company            Company  @relation(fields: [companyId], references: [id])
    createdAt          DateTime @default(now())
    updatedAt          DateTime @updatedAt
}

model SavedJobs {
    userId       String   @unique
    FavoriteJobs String[]
    HiddenJobs   String[]
    
    @@index([userId])
}
